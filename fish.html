<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>F.I.S.H</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<style>
* { margin:0; padding:0; box-sizing:border-box; }

body {
  font-family: 'Montserrat', sans-serif;
  background: #fff;
  color: #111;
  overflow-x: hidden;
}

/* ================= HEADER ================= */
.header {
  padding: 80px 20px 40px;
  text-align: center;
}

.header img {
  max-width: 150px;
}

/* ================= THREE VIEWER ================= */
.viewer-section {
  width: 100%;
  height: 520px;
}

#three-container {
  width: 100%;
  height: 100%;
  cursor: grab;
}

#three-container:active {
  cursor: grabbing;
}

/* ================= DESCRIPTION ================= */
.description {
  max-width: 720px;
  margin: 80px auto 90px;
  padding: 0 20px;
  font-size: 17px;
  line-height: 1.75;
  color: #222;
}

.description p {
  margin-bottom: 22px;
}

.description p:last-child {
  margin-bottom: 0;
}

.description .intro {
  font-size: 19px;
  line-height: 1.8;
  font-weight: 500;
  margin-bottom: 32px;
}

.description em {
  font-style: italic;
}

/* ================= MOCKUPS ================= */
.mockups {
  max-width: 1100px;
  margin: 60px auto;
  padding: 0 20px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-rows: auto auto;
  gap: 20px;
}

.mockups img {
  width: 100%;
  border-radius: 12px;
}

.mockups img:nth-child(3) {
  grid-column: 2;
  grid-row: 1 / span 2;
}

/* ================= DECK FULL (PROGRESSIVE) ================= */
.deck-full {
  margin-top: 100px;
}

.progressive-img {
  width: 100%;
  display: block;
  filter: blur(14px);
  transform: scale(1.02);
  transition: filter 1s ease, transform 1s ease;
}

.progressive-img.loaded {
  filter: blur(0);
  transform: scale(1);
}
</style>
</head>

<body>

<!-- ================= HEADER ================= -->
<div class="header">
  <img src="fish-logo.png" alt="F.I.S.H logo">
</div>

<!-- ================= THREE VIEWER ================= -->
<section class="viewer-section">
  <div id="three-container"></div>
</section>

<!-- ================= DESCRIPTION ================= -->
<section class="description">
  <p class="intro">
    I created this deck of cards in collaboration with an initiative started by former athlete and swimmer Karl Palmqvist.
  </p>

  <p>
    Karl swam around Gotland, Sweden’s largest island, to raise awareness about the ecocide of the Baltic Sea and mental health.
    The deck’s goal was to raise additional funds for the charity initiated by Karl called
    <em>Gotland Runt</em> in partnership with Naturskyddsföreningen and Suicide Zero.
  </p>

  <p>
    <em>Finns I Sjön och Hav</em>, or <em>F.I.S.H</em>, is a deck of cards with very silly illustrations.
    The reason is simple: neuroscience shows that dopamine improves memory retention.
    These are topics we want people to remember.
  </p>
</section>

<!-- ================= MOCKUPS ================= -->
<section class="mockups">
  <img src="mockup1.jpg" alt="">
  <img src="mockup2.jpg" alt="">
  <img src="mockup3.jpg" alt="">
</section>

<!-- ================= DECK FULL (PROGRESSIVE LOAD) ================= -->
<section class="deck-full">
  <img
    src="deck-full-blur.jpg"
    data-full="deck-full.jpg"
    alt="Full card deck"
    class="progressive-img"
  >
</section>

<!-- ================= THREE.JS ================= -->
<script>
const container = document.getElementById("three-container");

const scene = new THREE.Scene();
scene.background = new THREE.Color(0xffffff);

const camera = new THREE.PerspectiveCamera(
  45,
  container.clientWidth / container.clientHeight,
  0.1,
  100
);
camera.position.z = 6;

const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(container.clientWidth, container.clientHeight);
renderer.setPixelRatio(window.devicePixelRatio);
container.appendChild(renderer.domElement);

/* LIGHTING */
scene.add(new THREE.AmbientLight(0xffffff, 0.9));
const light = new THREE.DirectionalLight(0xffffff, 0.7);
light.position.set(5,5,5);
scene.add(light);

/* TEXTURES */
const loader = new THREE.TextureLoader();
const sideTexture  = loader.load("card-side.jpg");
const frontTexture = loader.load("card-front.jpg");
const backTexture  = loader.load("card-back.jpg");

/* ROTATED SIDE TEXTURES */
const sideRotated = sideTexture.clone();
sideRotated.center.set(0.5, 0.5);
sideRotated.rotation = Math.PI / 2;
sideRotated.needsUpdate = true;

const sideLeftFlipped = sideTexture.clone();
sideLeftFlipped.center.set(0.5,0.5);
sideLeftFlipped.rotation = Math.PI;
sideLeftFlipped.needsUpdate = true;

const sideBottomFlipped = sideTexture.clone();
sideBottomFlipped.center.set(0.5,0.5);
sideBottomFlipped.rotation = Math.PI / 2 + Math.PI;
sideBottomFlipped.needsUpdate = true;

/* MATERIALS */
const materials = [
  new THREE.MeshStandardMaterial({ map: sideTexture }),
  new THREE.MeshStandardMaterial({ map: sideLeftFlipped }),
  new THREE.MeshStandardMaterial({ map: sideRotated }),
  new THREE.MeshStandardMaterial({ map: sideBottomFlipped }),
  new THREE.MeshStandardMaterial({ map: frontTexture }),
  new THREE.MeshStandardMaterial({ map: backTexture })
];

const geometry = new THREE.BoxGeometry(2.4,3.4,0.6);
const cardBox = new THREE.Mesh(geometry, materials);
scene.add(cardBox);

/* DRAG ROTATION */
let dragging = false;
let prevX = 0, prevY = 0;
let velX = 0, velY = 0;

container.addEventListener("mousedown", e => {
  dragging = true;
  prevX = e.clientX;
  prevY = e.clientY;
});

window.addEventListener("mouseup", () => dragging = false);

container.addEventListener("mousemove", e => {
  if (!dragging) return;
  const dx = e.clientX - prevX;
  const dy = e.clientY - prevY;
  cardBox.rotation.y += dx * 0.005;
  cardBox.rotation.x += dy * 0.005;
  velX = dx * 0.0015;
  velY = dy * 0.0015;
  prevX = e.clientX;
  prevY = e.clientY;
});

/* RESIZE */
window.addEventListener("resize", () => {
  camera.aspect = container.clientWidth / container.clientHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(container.clientWidth, container.clientHeight);
});

/* ANIMATION */
function animate() {
  requestAnimationFrame(animate);
  if (!dragging) {
    cardBox.rotation.y += 0.002 + velX;
    cardBox.rotation.x += velY;
    velX *= 0.95;
    velY *= 0.95;
  }
  renderer.render(scene, camera);
}
animate();
</script>

<!-- ================= PROGRESSIVE IMAGE SCRIPT ================= -->
<script>
document.querySelectorAll('.progressive-img').forEach(img => {
  const fullImg = new Image();
  fullImg.src = img.dataset.full;

  fullImg.onload = () => {
    img.src = img.dataset.full;
    img.classList.add('loaded');
  };
});
</script>

</body>
</html>

